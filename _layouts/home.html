<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="author" content="{{ site.author }}">
    <meta name="description" content="{{ site.description }}">
    <meta name="keywords" content="{{ site.keywords }}">

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
    <meta name="theme-color" content="#323232">

    <link rel="stylesheet" href="styles/lightgallery.min.css">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">

    <script src="js/onepagescroll.js"></script>
    <script src="js/lightgallery.min.js"></script>
    <script src="js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            Array.prototype.forEach.call(document.getElementsByClassName('images'), element => {
            element.addEventListener('click', () => {
            if (!element.dataset.images)
                return;
            let images = element.dataset.images.split(' ');
            lightGallery(element, {
                dynamic: true,
                download: false,
                dynamicEl: images.map(img => ({ src: img }))
            })});
            
        });
        });
        
    </script>

    <title>{{ site.title }}</title>

    <!-- Prefetch all low-res background images to be able to display them without load times -->
    {% for project in site.projects %}
        {% assign image_type = "jpg" %}
        {% if project.image_type %}
            {% assign image_type = project.image_type %}
        {% endif %}
        <link rel="prefetch" href="img/{{ project.background_image }}-lowres.{{ image_type }}">
    {% endfor %}
</head>

<body class="home">
    <div id="loading" aria-hidden="true">
        <div class="loading-container">
            <svg version="1.1" class="logo" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                viewBox="0 0 1500 790" xml:space="preserve">
                <polygon points="376.2,2 27,2 376.2,299.8 1144.8,299.8 1144.8,2 "/>
                <polygon points="1144.8,480.2 376.2,480.2 376.2,778 1144.8,778 1494,480.2 "/>
            </svg>
            <span class="loading-text">Loading...</span>
        </div>
    </div>

    {% include background.html %}

    <main>
        {% include highlight.html %}

        {% for project in site.projects %}
            {% include project.html %}
        {% endfor %}

        {% include social.html %}
    </main>

    {% if jekyll.environment == "development" %}
        <script src="http://localhost:35729/livereload.js"></script>
    {% endif %}
</body>

</html>